{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,Link,useNavigate}from'react-router-dom';import'./BlogList.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const categoryNames={minecraft:'Minecraft',news:'お知らせ',blog:'if塾ブログ','ai-lectures':'AI講座',others:'その他'};const BlogList=()=>{const{category}=useParams();const navigate=useNavigate();const[posts,setPosts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[selectedCategory,setSelectedCategory]=useState(category||'all');useEffect(()=>{const loadPosts=async()=>{try{setLoading(true);// 全体のインデックスを読み込み\nconst indexModule=await import('./data/posts/index.json');const allPosts=indexModule.default.posts;// カテゴリーでフィルタリング\nlet filteredPosts=allPosts;if(category&&category!=='all'){filteredPosts=allPosts.filter(post=>post.category===category);}setPosts(filteredPosts);setError(null);}catch(err){console.error('Error loading posts:',err);setError('記事の読み込みに失敗しました');}finally{setLoading(false);}};loadPosts();},[category]);const handleCategoryChange=newCategory=>{setSelectedCategory(newCategory);if(newCategory==='all'){navigate('/blog');}else{navigate(\"/blog/\".concat(newCategory));}};const formatDate=dateString=>{if(!dateString)return'';const date=new Date(dateString);return date.toLocaleDateString('ja-JP',{year:'numeric',month:'long',day:'numeric'});};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"blog-list-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"blog-list-header\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"back-to-home\",children:\"\\u2190 \\u30DB\\u30FC\\u30E0\\u306B\\u623B\\u308B\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"blog-list-loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u8A18\\u4E8B\\u3092\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"})]})]});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"blog-list-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"blog-list-header\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"back-to-home\",children:\"\\u2190 \\u30DB\\u30FC\\u30E0\\u306B\\u623B\\u308B\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"blog-list-error\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u30A8\\u30E9\\u30FC\"}),/*#__PURE__*/_jsx(\"p\",{children:error})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"blog-list-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"blog-list-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"back-to-home\",children:\"\\u2190 \\u30DB\\u30FC\\u30E0\\u306B\\u623B\\u308B\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"blog-list-title\",children:\"\\u30D6\\u30ED\\u30B0\\u8A18\\u4E8B\\u4E00\\u89A7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"blog-list-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"category-filter\",children:[/*#__PURE__*/_jsx(\"button\",{className:selectedCategory==='all'?'active':'',onClick:()=>handleCategoryChange('all'),children:\"\\u3059\\u3079\\u3066\"}),Object.entries(categoryNames).map(_ref=>{let[key,name]=_ref;return/*#__PURE__*/_jsx(\"button\",{className:selectedCategory===key?'active':'',onClick:()=>handleCategoryChange(key),children:name},key);})]}),/*#__PURE__*/_jsx(\"div\",{className:\"posts-grid\",children:posts.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"no-posts\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u8A18\\u4E8B\\u304C\\u898B\\u3064\\u304B\\u308A\\u307E\\u305B\\u3093\\u3067\\u3057\\u305F\"})}):posts.map(post=>/*#__PURE__*/_jsx(\"article\",{className:\"post-card\",children:/*#__PURE__*/_jsx(Link,{to:\"/post/\".concat(post.id),className:\"post-link\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"post-card-content\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"post-title\",children:post.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-meta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"post-date\",children:formatDate(post.date)}),/*#__PURE__*/_jsx(\"span\",{className:\"post-category\",children:categoryNames[post.category]||post.category})]}),/*#__PURE__*/_jsx(\"p\",{className:\"post-excerpt\",children:post.excerpt}),/*#__PURE__*/_jsx(\"span\",{className:\"read-more\",children:\"\\u8A18\\u4E8B\\u3092\\u8AAD\\u3080 \\u2192\"})]})})},post.id))})]})]});};export default BlogList;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","categoryNames","minecraft","news","blog","others","BlogList","category","navigate","posts","setPosts","loading","setLoading","error","setError","selectedCategory","setSelectedCategory","loadPosts","indexModule","allPosts","default","filteredPosts","filter","post","err","console","handleCategoryChange","newCategory","concat","formatDate","dateString","date","Date","toLocaleDateString","year","month","day","className","children","to","onClick","Object","entries","map","_ref","key","name","length","id","title","excerpt"],"sources":["/Users/takasaki19841121/Desktop/if-juku-main/src/BlogList.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport './BlogList.css';\n\ninterface PostSummary {\n  id: number;\n  title: string;\n  date: string;\n  category: string;\n  excerpt: string;\n}\n\ninterface CategoryInfo {\n  minecraft: string;\n  news: string;\n  blog: string;\n  'ai-lectures': string;\n  others: string;\n  [key: string]: string;\n}\n\nconst categoryNames: CategoryInfo = {\n  minecraft: 'Minecraft',\n  news: 'お知らせ',\n  blog: 'if塾ブログ',\n  'ai-lectures': 'AI講座',\n  others: 'その他'\n};\n\nconst BlogList: React.FC = () => {\n  const { category } = useParams<{ category?: string }>();\n  const navigate = useNavigate();\n  const [posts, setPosts] = useState<PostSummary[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [selectedCategory, setSelectedCategory] = useState<string>(category || 'all');\n\n  useEffect(() => {\n    const loadPosts = async () => {\n      try {\n        setLoading(true);\n        \n        // 全体のインデックスを読み込み\n        const indexModule = await import('./data/posts/index.json');\n        const allPosts = indexModule.default.posts;\n        \n        // カテゴリーでフィルタリング\n        let filteredPosts = allPosts;\n        if (category && category !== 'all') {\n          filteredPosts = allPosts.filter((post: PostSummary) => post.category === category);\n        }\n        \n        setPosts(filteredPosts);\n        setError(null);\n        \n      } catch (err) {\n        console.error('Error loading posts:', err);\n        setError('記事の読み込みに失敗しました');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadPosts();\n  }, [category]);\n\n  const handleCategoryChange = (newCategory: string) => {\n    setSelectedCategory(newCategory);\n    if (newCategory === 'all') {\n      navigate('/blog');\n    } else {\n      navigate(`/blog/${newCategory}`);\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    if (!dateString) return '';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('ja-JP', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"blog-list-container\">\n        <div className=\"blog-list-header\">\n          <Link to=\"/\" className=\"back-to-home\">← ホームに戻る</Link>\n        </div>\n        <div className=\"blog-list-loading\">\n          <div className=\"loading-spinner\"></div>\n          <p>記事を読み込み中...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"blog-list-container\">\n        <div className=\"blog-list-header\">\n          <Link to=\"/\" className=\"back-to-home\">← ホームに戻る</Link>\n        </div>\n        <div className=\"blog-list-error\">\n          <h2>エラー</h2>\n          <p>{error}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"blog-list-container\">\n      <div className=\"blog-list-header\">\n        <Link to=\"/\" className=\"back-to-home\">← ホームに戻る</Link>\n        <h1 className=\"blog-list-title\">ブログ記事一覧</h1>\n      </div>\n\n      <div className=\"blog-list-content\">\n        <div className=\"category-filter\">\n          <button \n            className={selectedCategory === 'all' ? 'active' : ''} \n            onClick={() => handleCategoryChange('all')}\n          >\n            すべて\n          </button>\n          {Object.entries(categoryNames).map(([key, name]) => (\n            <button \n              key={key}\n              className={selectedCategory === key ? 'active' : ''} \n              onClick={() => handleCategoryChange(key)}\n            >\n              {name}\n            </button>\n          ))}\n        </div>\n\n        <div className=\"posts-grid\">\n          {posts.length === 0 ? (\n            <div className=\"no-posts\">\n              <p>記事が見つかりませんでした</p>\n            </div>\n          ) : (\n            posts.map(post => (\n              <article key={post.id} className=\"post-card\">\n                <Link to={`/post/${post.id}`} className=\"post-link\">\n                  <div className=\"post-card-content\">\n                    <h2 className=\"post-title\">{post.title}</h2>\n                    <div className=\"post-meta\">\n                      <span className=\"post-date\">{formatDate(post.date)}</span>\n                      <span className=\"post-category\">{categoryNames[post.category] || post.category}</span>\n                    </div>\n                    <p className=\"post-excerpt\">{post.excerpt}</p>\n                    <span className=\"read-more\">記事を読む →</span>\n                  </div>\n                </Link>\n              </article>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BlogList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}